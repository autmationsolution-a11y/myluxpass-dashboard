(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,a)=>{t.exports=e.r(76562)},89954,e=>{"use strict";var t=e.i(43476),a=e.i(71645),i=e.i(18566),s=e.i(31422);function n(){let e=(0,i.useRouter)(),[n,o]=(0,a.useState)("automationsolution@gmail.com"),[l,u]=(0,a.useState)("");(0,a.useEffect)(()=>{s.supabase.auth.getSession().then(({data:t})=>{t.session&&e.replace("/dashboard")});let{data:t}=s.supabase.auth.onAuthStateChange((t,a)=>{a&&e.replace("/dashboard")});return()=>{t.subscription.unsubscribe()}},[e]);let r=async()=>{u("Sending login link...");let{error:e}=await s.supabase.auth.signInWithOtp({email:n,options:{emailRedirectTo:"http://localhost:3000/dashboard"}});e?u("âŒ "+e.message):u("âœ… Check your email for the login link")},d=async()=>{await s.supabase.auth.signOut(),u("ðŸšª Logged out")};return(0,t.jsxs)("main",{style:{padding:40},children:[(0,t.jsx)("h1",{children:"Login"}),(0,t.jsx)("input",{value:n,onChange:e=>o(e.target.value),placeholder:"email",style:{padding:10,width:320,marginTop:10}}),(0,t.jsx)("div",{style:{marginTop:10},children:(0,t.jsx)("button",{onClick:r,style:{padding:"10px 16px"},children:"Send magic link"})}),(0,t.jsx)("div",{style:{marginTop:10},children:(0,t.jsx)("button",{onClick:d,style:{padding:"10px 16px"},children:"Logout (test)"})}),(0,t.jsx)("p",{style:{marginTop:10},children:l})]})}e.s(["default",()=>n])}]);